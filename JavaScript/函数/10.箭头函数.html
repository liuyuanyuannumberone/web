<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <button id="btn1">按钮</button>
</body>
<script>
    /***
 *  箭头函数的写法  
     1.如果只有一条语句，可以将{}和return省略掉 v=>v+v;    如果语句为多条，则不可以省略{}和return
     2.当没有参数或有多个参数时，需要用括号（）括起来: （num1,num2)=>num1+num2;
 */
    let f3 = () => { };
    let f4 = index => { };
    let f5 = (x, y, z) => x + y + z;
    let f6 = (x, y, z) => ({ x, y, z });

    /**
     * 缺点：
     *  1.没有arguments,如果要用,可以用 rest 参数代替。
     *  2.无法通过 apply、call、bind 改变this指向;
      
      注意：箭头函数不会创建自己的this，箭头函数在定义时已经绑定
           this指向父级程序的this指向(父级程序是函数),
           如果父级程序是数组,对象等,this指向的是window.
        1.原型方法、构造函数,对象方法中，不适用箭头函数
        2.动态上下文中的回调函数

     */
    {
        function fn1() {
            console.log('arguments', arguments);
        }
        const fn2 = (...values) => {
            console.log(values);
        };
    }

    {
        function Person() {
            this.age = 0;
            setInterval(() => {
                // console.log(this);
                this.age++; // this指向 p 实例
            }, 1000);
        }
        var p = new Person();
    }

    //注意1：
    {
        const obj = {
            name: '张三',
            getName() {
                return this.name;
            },
            getName1: () => {
                // console.log(this===window);//true
                return this.name;
            },
        };
        obj.__proto__.getName2 = function () {
            return this.name;
        };
        obj.__proto__.getName3 = () => {
            return this.name;
        };
        // console.log('普通函数', obj.getName()); //张三
        // console.log('普通函数', obj.getName2()); //张三
        // console.log('箭头函数', obj.getName1()); // undefined
        // console.log('箭头函数', obj.getName3()); //undefined
    }
    //注意2：
    {
        const btn1 = document.getElementById('btn1');
        btn1.addEventListener('click', () => {
            this.innerHTML = 'clicked';  //this 指向window
        });
    }


</script>

</html>