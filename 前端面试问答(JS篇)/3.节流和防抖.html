<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Title</title>
</head>
<body>
<div style="border:1px solid #00b3ee; margin-top: 5000px;height: 200px;">
  11111111111
</div>
</body>
<script>
    // window.onscroll = showTop   //这个函数的默认执行频率，太！高！了！
    //防抖：用户触发事件过于频繁，只让最后一次生效
    //搜索框搜索输入,只需用户最后一次输入完，再发送请求
    //窗口大小Resize
    function debounce(fn, delay) {
        let timer = null;
        return function () {
            if (timer) {
                clearTimeout(timer)
            }
            timer = setTimeout(fn, delay)
        }
    }

    function showTop() {
        var scrollTop = document.body.scrollTop || document.documentElement.scrollTop;
        console.log('滚动条位置：' + scrollTop);
    }

    window.onscroll = debounce(showTop, 1000)

</script>


<script>
    //节流throttle  技能冷却   让函数执行一次后，过一段时间后再重新激活
    //输入框的联想，可以限定用户在输入时，只在每两秒钟响应一次联想
    //页面的无限加载  我们需要在用户在滚动页面时，每隔一段时间发一次 Ajax 请求，
    function throttle(fn, delay) {
        let timer = null;
        return function () {
            if (timer) return true;
            timer = setTimeout(() => {
                fn()
                timer = null;
            }, delay)
        }
    }
</script>
</html>
